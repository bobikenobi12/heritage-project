<%- include('../partials/head-start-partial') %>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css"
  integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<link
  rel="stylesheet"
  type="text/css"
  href="https://cdn.datatables.net/v/bs4/dt-1.11.3/datatables.min.css"
/>
<style>
  @import url('https://fonts.googleapis.com/css?family=Oswald:500');
</style>
<%- include('../partials/head-end-partial') %> <%-
include('../partials/body-start-partial') %>
<div class="container">
  <div class="row my-4">
    <div class="col-lg-12">
      <% if (messages.success_msg) { %>
      <div class="alert alert-dismissible fade show alert-success" role="alert">
        <button
          class="btn-close"
          type="button"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
        <strong><%= messages.success_msg %> </strong>
      </div>
      <% } %>
      <div class="table-responsive">
        <% if (results != ' ') { %>
        <table class="table table-stripped text-center my-3">
          <thead>
            <tr class="table-dark">
              <th>Image</th>
              <th>Title</th>
              <th>Date</th>
              <th>Place</th>
              <th>Action</th> 
            </tr>
          </thead>
          <tbody>
            <% results.forEach(result => { %>
            <tr>
              <td>
                <img
                  src="/uploads/<%= result.image %>"
                  width="50"
                  class="img-thumbnail"
                />
              </td>
              <td><%= result.title %></td>
              <td><%= result.date %></td>
              <td><%= result.place %></td>
              <td>
                <a
                  href="/users/images/edit/<%= result.id %>"
                  class="text-success"
                  ><i class="fas fa-edit fa-lg mx-1"></i
                ></a>
                <a
                  href="/users/images/delete/<%= result.id %>"
                  class="text-danger"
                  ><i class="fas fa-trash fa-lg mx-1"></i
                ></a>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
        <% } else { %>
        <h1 class="text-center text-secondary mt-5">
          No users found in the database!
        </h1>
        <% } %>
      </div>
    </div>
  </div>
</div>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
  integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
<script
  type="text/javascript"
  src="https://cdn.datatables.net/v/bs4/dt-1.11.3/datatables.min.js"
></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.bundle.min.js"
  integrity="sha512-pax4MlgXjHEPfCwcJLQhigY7+N8rt6bVvWLFyUMuxShv170X53TRzGPmPkZmGBhk+jikR8WBM4yl7A9WMHHqvg=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
<script>
  $(document).ready(function() {
    $("table").DataTable({
      order: [0, 'desc']
    });
  });
</script>
<%- include('../partials/body-end-partial') %>
